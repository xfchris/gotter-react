(this.webpackJsonptwittor=this.webpackJsonptwittor||[]).push([[0],{110:function(e,t,a){e.exports=a(216)},115:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},139:function(e,t,a){},197:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=a(8),i=a(226),u=a(224),s=a(100),m=a(233),d=(a(115),a(41)),f=a.n(d),h=a(94),b=a.n(h),E=a(14),p=a(15),v=a(231);a(121);function g(e){var t=e.show,a=e.setShow,n=e.children;return r.a.createElement(v.a,{className:"basic-modal",show:t,onHide:function(){return a(!1)},centered:!0,size:"lg"},r.a.createElement(v.a.Header,null,r.a.createElement(v.a.Title,null,r.a.createElement("img",{src:f.a,alt:"Twittor"}))),r.a.createElement(v.a.Body,null,n))}var j=a(35),O=a(20),w=a(232),S=a(225),y=a(16),N=a(10);a(122);function C(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(String(e).toLowerCase())}var k="https://twittgo-co.herokuapp.com",x="https://4.bp.blogspot.com/-CuZOfJdrDKY/UYmig8q88yI/AAAAAAAAEZM/bzVtIKPhXVA/s1600/Satoshi-nakamoto.gif",_=a(78),A=a.n(_);function z(){return localStorage.getItem("token")}function T(){localStorage.removeItem("token")}function L(){var e=z();return e?(function(e){return 1e3*A()(e).exp-Date.now()<0}(e)&&T(),A()(e)):(T(),null)}function P(e){var t=e.setShowModal,a=Object(n.useState)(B),c=Object(l.a)(a,2),o=c[0],i=c[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),h=f[0],b=f[1];return r.a.createElement("div",{className:"sign-up-form"},r.a.createElement("h2",null,"Crea tu cuenta"),r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault();var a=0;Object(y.values)(o).some((function(e){return e&&a++,null})),a===Object(y.size)(o)?C(o.email)?Object(y.size)(o.password)<6?N.b.warning("La contrase\xf1a debe de tener mas de 6 caracteres"):o.password===o.repeatPassword?(b(!0),function(e){var t="".concat(k,"/registro"),a=Object(O.a)({},e,{email:e.email.toLowerCase(),fechaNacimiento:new Date});delete a.repeatPassword;var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};return fetch(t,n).then((function(e){return e.status>=200&&e.status<300?e.json():{code:404,message:"Email no disponible"}})).then((function(e){return e})).catch((function(e){return e}))}(o).then((function(e){e.code?N.b.warning(e.message):(N.b.success("Registro correcto"),t(!1))})).catch((function(){return N.b.error("Error del servidor")})).finally((function(){return b(!1)}))):N.b.warning("La contrase\xf1a debe de ser igual"):N.b.warning("Email inv\xe1lido"):N.b.warning("Completa todos los campos del formulario")},onChange:function(e){i(Object(O.a)({},o,Object(j.a)({},e.target.name,e.target.value)))}},r.a.createElement(w.a.Group,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:"Nombres",name:"nombres",defaultValue:o.nombres})),r.a.createElement(s.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:"Apellidos",name:"apellidos",defaultValue:o.apellidos})))),r.a.createElement(w.a.Group,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(w.a.Control,{type:"email",placeholder:"Email",name:"email",defaultValue:o.email})))),r.a.createElement(w.a.Group,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(w.a.Control,{type:"password",placeholder:"Contrase\xf1a",name:"password",defaultValue:o.password})),r.a.createElement(s.a,null,r.a.createElement(w.a.Control,{type:"password",placeholder:"Repetir contrase\xf1a",name:"repeatPassword",defaultValue:o.repeatPassword})))),r.a.createElement(m.a,{variant:"primary",type:"submit"},h?r.a.createElement(S.a,{animation:"border"}):"Registro")))}function B(){return{nombres:"",apellidos:"",email:"",password:"",repeatPassword:""}}a(126);function R(e){var t=e.setRefreshCheckLogin,a=Object(n.useState)(I),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),d=s[0],f=s[1];return r.a.createElement("div",{className:"sign-in-form"},r.a.createElement("h2",null,"Entrar"),r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault();var a=0;Object(y.values)(o).some((function(e){return e&&a++,null})),a===Object(y.size)(o)?C(o.email)?(f(!0),function(e){var t="".concat(k,"/login"),a=Object(O.a)({},e,{email:e.email.toLowerCase()}),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};return fetch(t,n).then((function(e){return e.status>=200&&e.status<300?e.json():{code:404,message:"Datos incorrectos"}})).then((function(e){return e})).catch((function(e){return e}))}(o).then((function(e){var a;e.code?N.b.warning(e.message):(a=e.token,localStorage.setItem("token",a),t(!0))})).catch((function(){N.b.error("Error de conexion")})).finally((function(){f(!1)}))):N.b.warning("Email inv\xe1lido"):N.b.warning("Rellena todos los campos del formulario")},onChange:function(e){i(Object(O.a)({},o,Object(j.a)({},e.target.name,e.target.value)))}},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Control,{type:"text",name:"email",placeholder:"Email",defaultValue:o.email,required:!0})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Control,{type:"password",name:"password",placeholder:"Escribe contrase\xf1a",defaultValue:o.password})),r.a.createElement(m.a,{variant:"primary",type:"submit"},d?r.a.createElement(S.a,{animation:"border"}):"Iniciar sesi\xf3n")))}function I(){return{email:"",password:""}}function D(e){var t=e.setRefreshCheckLogin,a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],s=c[1],m=Object(n.useState)("SDASDFASDF"),d=Object(l.a)(m,2),f=d[0],h=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"singin-singup",fluid:!0},r.a.createElement(u.a,null,r.a.createElement(V,null),r.a.createElement(F,{setRefreshCheckLogin:t,openModal:function(e){s(!0),h(e)},setShowModal:s}))),r.a.createElement(g,{show:o,setShow:s},f))}function V(){return r.a.createElement(s.a,{className:"singin-singup__left",xs:6},r.a.createElement("img",{src:b.a,alt:"Twittor"}),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(E.a,{icon:p.h}),"Sigue lo que te interesa"),r.a.createElement("h2",null,r.a.createElement(E.a,{icon:p.k}),"Enterate de lo que esta pasando aqui"),r.a.createElement("h2",null,r.a.createElement(E.a,{icon:p.c}),"Unete a la conversaci\xf3n")))}function F(e){var t=e.openModal,a=e.setShowModal,n=e.setRefreshCheckLogin;return r.a.createElement(s.a,{className:"singin-singup__right",xs:6},r.a.createElement("div",null,r.a.createElement("img",{src:f.a,alt:"Twittor"}),r.a.createElement("h2",null,"Mira lo que est\xe1 pasando en el mundo en este momento"),r.a.createElement("h3",null,"\xdanete a twittor ahora mismo"),r.a.createElement(m.a,{onClick:function(){return t(r.a.createElement(P,{setShowModal:a}))},variant:"primary"},"Reg\xedstrate"),r.a.createElement(m.a,{onClick:function(){return t(r.a.createElement(R,{setRefreshCheckLogin:n}))},variant:"outline-primary"},"Iniciar sesi\xf3n")))}var M=Object(n.createContext)(),U=a(19),W=a(13),G=a(34),H=(a(127),a(128),a(129),a(6)),J=a.n(H);a(130);function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=k+"/leer-tweet?id="+e+"&page="+t,n={headers:{Authorization:"Bearer"+z()}};return fetch(a,n).then((function(e){return e.json()})).catch((function(e){return e}))}function q(e){var t=e.show,a=e.setShow,c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],u=o[1];return r.a.createElement(v.a,{className:"tweet-modal",show:t,onHide:function(){return a(!1)},centered:!0,size:"lg"},r.a.createElement(v.a.Header,null,r.a.createElement(v.a.Title,null,r.a.createElement(E.a,{icon:p.i,onClick:function(){return a(!1)}}))),r.a.createElement(v.a.Body,null,r.a.createElement(w.a,{onSubmit:function(e){e.preventDefault(),i.length>0&&i.length<=28&&function(e){var t={method:"POST",headers:{Authorization:"Bearer"+z()},body:JSON.stringify({mensaje:e})};return fetch("https://twittgo-co.herokuapp.com/crear-tweet",t).then((function(e){return e.status>=200&&e.status<300?e.json():{code:500,message:"Error del servidor"}})).then((function(e){return{code:200,data:e}})).catch((function(e){return e}))}(i).then((function(e){500===e.code?N.b.error("Error al enviar el tweet"):(N.b.success("Tweet enviado"),a(!1),window.location.reload())})).catch((function(e){return N.b.error("Error del servidor")}))},onChange:function(e){u(e.target.value)}},r.a.createElement(w.a.Control,{defaultValue:i,as:"textarea",rows:"3",placeholder:"Que estas pensando?"}),r.a.createElement("span",{className:J()("count",{error:i.length>28})},i.length),r.a.createElement(m.a,{type:"submit",disabled:i.length>28||i.length<5},"Twittear"))))}function K(){var e,t=Object(n.useContext)(M),a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1];return r.a.createElement("div",{className:"left-menu"},r.a.createElement("img",{className:"logo",src:f.a,alt:"twittor"}),r.a.createElement(U.b,{to:"/"},r.a.createElement(E.a,{icon:p.e})," Inicio"),r.a.createElement(U.b,{to:"/users"},r.a.createElement(E.a,{icon:p.k})," Usuarios"),r.a.createElement(U.b,{to:"/"+(null===(e=t.user)||void 0===e?void 0:e._id)},r.a.createElement(E.a,{icon:p.j})," Perfil"),r.a.createElement(U.b,{to:"",onClick:function(){T(),t.setRefreshCheckLogin(!0)}},r.a.createElement(E.a,{icon:p.g})," Cerrar sesi\xf3n"),r.a.createElement(m.a,{variant:"primary",onClick:function(){return i(!0)}},"Twittear"),r.a.createElement(q,{show:o,setShow:i}))}function $(e){var t=e.className,a=e.children;return r.a.createElement(i.a,{className:"basic-layout "+t},r.a.createElement(u.a,null,r.a.createElement(s.a,{xs:"3",className:"basic-layout__menu"},r.a.createElement(K,null)),r.a.createElement(s.a,{xs:"9",className:"basic-layout__content"},a)))}var Y=a(227);a(133);function Q(e){var t="".concat(k,"/ver-perfil?id=").concat(e),a={headers:{"Content-Type":"application/json",Authorization:"Bearer"+z()}};return fetch(t,a).then((function(e){return e.status>=400?null:e.json()})).then((function(e){return e})).catch((function(e){return e}))}function X(e){var t=new FormData;t.append("banner",e);var a={method:"POST",headers:{Authorization:"Bearer"+z()},body:t};return fetch("https://twittgo-co.herokuapp.com/subir-banner",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))}function ee(e){var t=new FormData;t.append("avatar",e);var a={method:"POST",headers:{Authorization:"Bearer"+z()},body:t};return fetch("https://twittgo-co.herokuapp.com/subir-avatar",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))}function te(e){var t={method:"PUT",headers:{Authorization:"Bearer"+z()},body:JSON.stringify(e)};return fetch("https://twittgo-co.herokuapp.com/editar-perfil",t).then((function(e){return e})).catch((function(e){return e}))}var ae=a(48),ne=a.n(ae);function re(e){var t=e.tweets;return r.a.createElement("div",{className:"list-tweets"},Object(y.map)(t,(function(e){return r.a.createElement(ce,{key:e.id,tweet:e})})))}function ce(e){var t,a=e.tweet,c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(null),m=Object(l.a)(s,2),d=m[0],f=m[1];return Object(n.useEffect)((function(){Q(a.user_id).then((function(e){u(e),f((null===e||void 0===e?void 0:e.avatar)?k+"/obtener-avatar?id="+e.id:x)}))}),[a]),r.a.createElement("div",{className:"tweet"},r.a.createElement(Y.a,{className:"avatar",src:d,roundedCircle:!0}),r.a.createElement("div",null,r.a.createElement("div",{className:"name"},null===i||void 0===i?void 0:i.nombres," ",null===i||void 0===i?void 0:i.apellidos,r.a.createElement("span",null,ne()(a.fecha).calendar())),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:(t=a.mensaje,null===t||void 0===t?void 0:t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"))}})))}function oe(e){var t=[];return e.forEach((function(e){t.push({id:e.Tweet.id,mensaje:e.Tweet.mensaje,fecha:e.Tweet.fecha,user_id:e.usuarioseguido_id})})),t}a(134);a(135),a(136),a(137);function le(e){var t=e.show,a=e.setShow,n=e.title,c=e.children;return r.a.createElement(v.a,{className:"config-modal",show:t,onHide:function(){return a(!1)},centered:!0,size:"lg"},r.a.createElement(v.a.Header,null,r.a.createElement(v.a.Title,null,r.a.createElement(E.a,{icon:p.i,onClick:function(){return a(!1)}}),r.a.createElement("h2",null,n))),r.a.createElement(v.a.Body,null,c))}var ie=a(82),ue=a.n(ie),se=a(102),me=(a(139),a(104)),de=a.n(me),fe=a(108),he=a(85);function be(e){var t=e.user,a=e.setShowModal,c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],d=o[1],f=Object(n.useState)(function(e){return{nombres:e.nombres||"",apellidos:e.apellidos||"",biografia:e.biografia||"",ubicacion:e.ubicacion||"",sitioWeb:e.sitioWeb||"",fechaNacimiento:e.fechaNacimiento||""}}(t)),h=Object(l.a)(f,2),b=h[0],v=h[1],g=Object(n.useState)((null===t||void 0===t?void 0:t.banner)?"".concat(k,"/obtener-banner?id=").concat(t.id):null),y=Object(l.a)(g,2),C=y[0],x=y[1],_=Object(n.useState)(null),A=Object(l.a)(_,2),z=A[0],T=A[1],L=Object(n.useCallback)((function(e){var t=e[0];x(URL.createObjectURL(t)),T(t)}),[]),P=Object(he.a)({accept:"image/jpeg, image/png",noKeyboard:!0,multiple:!1,onDrop:L}),B=P.getRootProps,R=P.getInputProps,I=Object(n.useState)((null===t||void 0===t?void 0:t.avatar)?"".concat(k,"/obtener-avatar?id=").concat(t.id):null),D=Object(l.a)(I,2),V=D[0],F=D[1],M=Object(n.useState)(null),U=Object(l.a)(M,2),W=U[0],G=U[1],H=Object(n.useCallback)((function(e){var t=e[0];F(URL.createObjectURL(t)),G(t)}),[]),J=Object(he.a)({accept:"image/jpeg, image/png",noKeyboard:!0,multiple:!1,onDrop:H}),Z=J.getRootProps,q=J.getInputProps,K=function(){var e=Object(se.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d(!0),!z){e.next=5;break}return e.next=5,X(z).catch((function(){N.b.error("Error al subir nuevo banner")}));case 5:if(!W){e.next=8;break}return e.next=8,ee(W).catch((function(){N.b.error("Error al subir nuevo avatar")}));case 8:return e.next=10,te(b).then((function(){a(!1)})).catch((function(){N.b.error("Error al actualizar los datos")}));case 10:window.location.reload(),d(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e){v(Object(O.a)({},b,Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"edit-user-form"},r.a.createElement("div",Object.assign({className:"banner",style:{backgroundImage:"url('".concat(C,"')")}},B()),r.a.createElement("input",R()),r.a.createElement(E.a,{icon:p.b})),r.a.createElement("div",Object.assign({className:"avatar",style:{backgroundImage:"url('".concat(V,"')")}},Z()),r.a.createElement("input",q()),r.a.createElement(E.a,{icon:p.b})),r.a.createElement(w.a,{onSubmit:K},r.a.createElement(w.a.Group,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(w.a.Control,{type:"text",onChange:$,defaultValue:b.nombres,placeholder:"Nombres",name:"nombres"})),r.a.createElement(s.a,null,r.a.createElement(w.a.Control,{type:"text",onChange:$,defaultValue:b.apellidos,placeholder:"Nombres",name:"nombres"})))),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Control,{as:"textarea",row:"3",placeholder:"Agrega tu biografia",defaultValue:b.biografia,name:"biografia",onChange:$})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Control,{type:"text",onChange:$,placeholder:"Sitio web",defaultValue:b.sitioWeb,name:"sitioWeb"})),r.a.createElement(de.a,{onChange:function(e){return v(Object(O.a)({},b,{fechaNacimiento:e}))},placeholder:"Fecha de nacimiento",locale:fe.a,selected:new Date(b.fechaNacimiento)}),r.a.createElement(m.a,{className:"btn-submit",variant:"primary",type:"submit"},i&&r.a.createElement(S.a,{animation:"border",size:"sm"})," Actualizar")))}function Ee(e){var t=e.user,a=e.userLogged,c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(null),d=Object(l.a)(s,2),f=d[0],h=d[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),p=E[0],v=E[1],g=(null===t||void 0===t?void 0:t.banner)?k+"/obtener-banner?id="+t.id:null,j=(null===t||void 0===t?void 0:t.avatar)?k+"/obtener-avatar?id="+t.id:x;Object(n.useEffect)((function(){(function(e){var t=k+"/consultar-seguidor?id="+e,a={headers:{Authorization:"Bearer"+z()}};return fetch(t,a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))})(null===t||void 0===t?void 0:t.id).then((function(e){(null===e||void 0===e?void 0:e.status)?h(e.status):h(!1)})),v(!1)}),[t,p]);return r.a.createElement("div",{className:"banner-avatar",style:{backgroundImage:"url("+g+")"}},r.a.createElement("div",{className:"avatar",style:{backgroundImage:"url("+j+")"}}),r.a.createElement("div",{className:"options"},t&&t.id===a._id&&r.a.createElement(m.a,{onClick:function(){return u(!0)}},"Editar perfil"),t&&t.id!==a._id&&null!==f&&(f?r.a.createElement(m.a,{onClick:function(){(function(e){var t=k+"/borrar-seguidor?id="+e,a={method:"DELETE",headers:{Authorization:"Bearer"+z()}};return fetch(t,a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))})(t.id).then((function(){v(!0)}))},className:"unfollow"},r.a.createElement("span",null,"Siguiendo")):r.a.createElement(m.a,{onClick:function(){(function(e){var t=k+"/seguir-usuario?id="+e,a={method:"POST",headers:{Authorization:"Bearer"+z()}};return fetch(t,a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))})(t.id).then((function(){v(!0)}))}},"Seguir"))),r.a.createElement(le,{show:i,setShow:u,title:"Editar Perfil"},r.a.createElement(be,{user:t,setShowModal:u})))}a(197);var pe=a(107),ve=a.n(pe);function ge(e){var t=e.user;return r.a.createElement("div",{className:"info-user"},r.a.createElement("h2",{className:"name"},null===t||void 0===t?void 0:t.nombres," ",null===t||void 0===t?void 0:t.apellidos),r.a.createElement("p",{className:"email"},null===t||void 0===t?void 0:t.email),(null===t||void 0===t?void 0:t.biografia)&&r.a.createElement("div",{className:"description"},t.biografia),r.a.createElement("div",{className:"more-info"},(null===t||void 0===t?void 0:t.ubicacion)&&r.a.createElement("p",null,r.a.createElement(E.a,{icon:p.f})," ",t.ubicacion),(null===t||void 0===t?void 0:t.sitioWeb)&&r.a.createElement("p",null,r.a.createElement(E.a,{icon:p.d})," ",r.a.createElement("a",{href:t.sitioWeb,parent:"_blank"},t.sitioWeb)),(null===t||void 0===t?void 0:t.fechaNacimiento)&&r.a.createElement("p",null,r.a.createElement(E.a,{icon:p.a}),ne()(t.fechaNacimiento).locale("es",ve.a).format("LL"))))}var je=Object(W.f)((function(e){var t=e.match,a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),d=s[0],f=s[1],h=Object(n.useState)(null),b=Object(l.a)(h,2),E=b[0],p=b[1],v=Object(n.useContext)(M).user,g=Object(n.useState)(1),j=Object(l.a)(g,2),O=j[0],w=j[1],y=Object(n.useState)(null),C=Object(l.a)(y,2),k=C[0],x=C[1];return Object(n.useEffect)((function(){Q(t.params.id).then((function(e){f(!0),i(e),e||N.b.error("El usuario no existe")})).catch((function(){N.b.error("Error de conexion")}))}),[t.params]),Object(n.useEffect)((function(){t.params.id&&Z(t.params.id,1).then((function(e){p(e)})).catch((function(){return p([])}))}),[t.params]),r.a.createElement($,{className:"user"},o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user__title"},r.a.createElement("h2",null,o.nombres," ",o.apellidos)),r.a.createElement(Ee,{user:o,userLogged:v}),r.a.createElement(ge,{user:o}),r.a.createElement("div",{className:"user__tweets"},r.a.createElement("h3",null,"Lista de tweets"),E&&E.length>0&&r.a.createElement(re,{tweets:E}),r.a.createElement(m.a,{onClick:function(){var e=O+1;x(!0),Z(t.params.id,e).then((function(t){t?(p([].concat(Object(G.a)(E),Object(G.a)(t))),w(e),x(!1)):x(0)})).catch((function(e){N.b.error("Error al cargar los tweets")}))}},k?r.a.createElement(S.a,{as:"span",animation:"grow",size:"sm",role:"status","arian-hidden":"true"}):0!==k&&"Obtener mas twets"))):r.a.createElement(r.a.Fragment,null,d?r.a.createElement("h2",null,"Este usuario no existe"):""))})),Oe=a(230),we=a(46),Se=a.n(we),ye=a(229),Ne=a(228);a(210);function Ce(e){var t=e.users;return Object(y.isEmpty)(t)?r.a.createElement("h2",null,"No hay resultados"):r.a.createElement("div",{className:"list-users"},Object(y.map)(t,(function(e){return r.a.createElement(ke,{key:e.id,user:e})})))}function ke(e){var t=e.user,a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){Q(t.id).then((function(e){i(e)}))}),[t]),r.a.createElement(Ne.a,{as:U.b,to:"/"+t.id,className:"list-users__user"},r.a.createElement(Y.a,{width:"64",height:"64",roundedCircle:!0,className:"mr-3",src:(null===o||void 0===o?void 0:o.avatar)?k+"/obtener-avatar?id="+t.id:x,alt:t.nombres+" "+t.apellidos}),r.a.createElement(Ne.a.Body,null,r.a.createElement("h5",null,t.nombres," ",t.apellidos," "),r.a.createElement("p",null,null===o||void 0===o?void 0:o.biografia)))}a(211);var xe=[{path:"/users",exact:!0,page:Object(W.f)((function(e){var t=e.location,a=e.history,c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1],s=function(e){var t=Se.a.parse(e.search),a=t.page,n=void 0===a?1:a,r=t.type,c=void 0===r?"follow":r,o=t.search;return{page:n,type:c,search:o}}(t),d=Object(n.useState)(s.type||"follow"),f=Object(l.a)(d,2),h=f[0],b=f[1],E=Object(n.useState)(s.search||""),p=Object(l.a)(E,2),v=p[0],g=p[1],j=Object(n.useState)(!1),w=Object(l.a)(j,2),C=w[0],x=w[1];Object(n.useEffect)((function(){(function(e){var t=k+"/leer-usuarios?"+e,a={headers:{Authorization:"Bearer"+z()}};return fetch(t,a).then((function(e){return e.json()})).catch((function(e){return e}))})(Se.a.stringify(s)).then((function(e){1==s.page?Object(y.isEmpty)(e)?(u([]),x(0)):(u(e),x(!1)):Object(y.isEmpty)(e)?x(0):(u([].concat(Object(G.a)(i),Object(G.a)(e))),x(!1))})).catch((function(e){return N.b.error("Error al obtener usuarios")}))}),[t]);var _=function(e){u(null),b("new"===e?"new":"follow"),g(""),a.push({search:Se.a.stringify({type:e,page:1,search:""})})},A=Object(ye.a)((function(e){u(null),a.push({search:Se.a.stringify(Object(O.a)({},s,{page:1,search:e}))})}),500),T=Object(l.a)(A,1)[0];return r.a.createElement($,{className:"users"},r.a.createElement("div",{className:"users__title"},r.a.createElement("h2",null,"Usuarios"),r.a.createElement("input",{type:"text",value:v,onChange:function(e){T(e.target.value),g(e.target.value)},placeholder:"Busca un usuario..."})),r.a.createElement(Oe.a,{className:"users__options"},r.a.createElement(m.a,{onClick:function(){return _("follow")},className:"follow"===h&&"active"},"Siguiendo"),r.a.createElement(m.a,{onClick:function(){return _("new")},className:"new"===h&&"active"},"Nuevos")),i?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{users:i}),r.a.createElement(m.a,{onClick:function(){x(!0);var e=parseInt(s.page)+1;a.push({search:Se.a.stringify(Object(O.a)({},s,{page:e}))})},className:"load-more"},C?r.a.createElement(S.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}):0!==C&&"Cargar mas usuarios")):r.a.createElement("div",{className:"users__loading"},r.a.createElement(S.a,{animation:"border",variant:"auto"}),"Buscando usuarios"))}))},{path:"/",exact:!0,page:function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(1),i=Object(l.a)(o,2),u=i[0],s=i[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),h=f[0],b=f[1];return Object(n.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=k+"/leer-seguidores?page="+e,a={headers:{"Content-Type":"application/json",Authorization:"Bearer"+z()}};return fetch(t,a).then((function(e){return e.json()})).catch((function(e){return e}))})(u).then((function(e){!a&&e?c(oe(e)):e?(c([].concat(Object(G.a)(a),Object(G.a)(oe(e)))),b(!1)):b(0)})).catch((function(){}))}),[u]),r.a.createElement($,{className:"home"},r.a.createElement("div",{className:"home__title"},r.a.createElement("h2",null,"Inicio")),r.a.createElement(re,{tweets:a}),r.a.createElement(m.a,{onClick:function(){b(!0),s(u+1)},className:"load-more"},h?r.a.createElement(S.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}):0!==h?"Obtener m\xe1s tweets":"No hay mas tweets"))}},{path:"/:id",page:je,exact:!0},{path:"*",page:function(){return r.a.createElement("div",{className:"error404"},r.a.createElement("h1",null,"Error 404"),r.a.createElement(U.b,{to:"/"},"Volver al inicio"))}}];function _e(){return r.a.createElement(U.a,null,r.a.createElement(W.c,null,Object(y.map)(xe,(function(e,t){return r.a.createElement(W.a,{key:t,path:e.path,exact:e.exact},r.a.createElement(e.page,null))}))))}function Ae(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),f=d[0],h=d[1];return Object(n.useEffect)((function(){c(L()),h(!1),s(!0)}),[f]),u?r.a.createElement(M.Provider,{value:{user:a,setRefreshCheckLogin:h}},a?r.a.createElement(_e,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{setRefreshCheckLogin:h})),r.a.createElement(N.a,{position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0})):null}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(212),a(213),a(214),a(215);o.a.render(r.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,a){e.exports=a.p+"static/media/logow.41f65f75.png"},94:function(e,t,a){e.exports=a.p+"static/media/logo.1769587d.png"}},[[110,1,2]]]);
//# sourceMappingURL=main.040f49d8.chunk.js.map